<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–†–ê–ß–ï–í –ù–ò–ö–û–õ–ê–ô</title>
    <link rel="stylesheet" href="../styles/index.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <div class="logo-placeholder">–®–õ–Ø–ü–ê</div>
                <h1>–ì–†–ê–ß–ï–í –ù–ò–ö–û–õ–ê–ô</h1>
            </div>
            <nav class="nav">
                <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="./projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a>
                <a href="./diary.html">–î–Ω–µ–≤–Ω–∏–∫</a>
                <a href="./contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <section class="diary">
            <div class="container">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</h2>
                <form id="diaryForm" class="diary-form">
                    <div class="form-group">
                        <label for="entryDate">–î–∞—Ç–∞:</label>
                        <input type="date" id="entryDate" required>
                    </div>
                    <div class="form-group">
                        <label for="entryText">–ó–∞–ø–∏—Å—å:</label>
                        <textarea id="entryText" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="entryStatus">–°—Ç–∞—Ç—É—Å:</label>
                        <select id="entryStatus" required>
                            <option value="status-done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</option>
                            <option value="status-in-progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                            <option value="status-planned">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                </form>

                <h2>–ú–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
                <div class="progress-list" id="progressList">
                    <div class="progress-item status-done">
                        <span class="date">15 –¥–µ–∫</span> - –í–µ—Ä—Å—Ç–∫–∞ –º–∞–∫–µ—Ç–∞ —Å–∞–π—Ç–∞ ‚úì
                    </div>
                    <div class="progress-item status-done">
                        <span class="date">10 –¥–µ–∫</span> - JavaScript –æ—Å–Ω–æ–≤—ã ‚úì
                    </div>
                    <div class="progress-item status-in-progress">
                        <span class="date">05 –¥–µ–∫</span> - –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏ in progress
                    </div>
                    <div class="progress-item status-in-progress">
                        <span class="date">01 –¥–µ–∫</span> - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω in progress
                    </div>
                </div>

                <h2>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã</h2>
                <div class="course">
                    <span>–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span>
                    <div class="skill-bar">
                        <div class="skill-level" style="width: 90%;">90%</div>
                    </div>
                </div>
                <div class="course">
                    <span>JavaScript</span>
                    <div class="skill-bar">
                        <div class="skill-level" style="width: 70%;">70%</div>
                    </div>
                </div>
                <div class="course">
                    <span>React</span>
                    <div class="skill-bar">
                        <div class="skill-level" style="width: 50%;">50%</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 –ì–†–ê–ß–ï–í –ù–ò–ö–û–õ–ê–ô. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p>üìß student@edu.ru | üìç –ú–û–°–ö–í–ê, –†–û–°–°–ò–ò–Ø</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const diaryForm = document.getElementById('diaryForm');
            const progressList = document.getElementById('progressList');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–ø–∏—Å–∏ –∏–∑ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            loadEntriesFromStorage();
            
            diaryForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const date = document.getElementById('entryDate').value;
                const text = document.getElementById('entryText').value;
                const status = document.getElementById('entryStatus').value;
                
                if (!date || !text.trim()) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                    return;
                }
                
                addDiaryEntry(date, text, status);
                saveEntryToStorage(date, text, status);
                diaryForm.reset();
            });
            
            function addDiaryEntry(date, text, status) {
                const formattedDate = formatDate(date);
                const entryElement = document.createElement('div');
                entryElement.className = `progress-item ${status}`;
                entryElement.innerHTML = `
                    <span class="date">${formattedDate}</span> - ${text}
                    <button class="delete-btn" onclick="deleteEntry(this)">√ó</button>
                `;
                progressList.insertBefore(entryElement, progressList.firstChild);
            }
            
            function formatDate(dateString) {
                const date = new Date(dateString);
                const day = date.getDate();
                const month = date.toLocaleString('ru', { month: 'short' });
                return `${day} ${month}`;
            }
            
            function saveEntryToStorage(date, text, status) {
                const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
                entries.unshift({ date, text, status });
                localStorage.setItem('diaryEntries', JSON.stringify(entries));
            }
            
            function loadEntriesFromStorage() {
                const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
                entries.forEach(entry => {
                    addDiaryEntry(entry.date, entry.text, entry.status);
                });
            }
            
            window.deleteEntry = function(button) {
                const entryElement = button.parentElement;
                const entryText = entryElement.textContent.replace('√ó', '').trim();
                
                if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
                    entryElement.remove();
                    removeEntryFromStorage(entryText);
                }
            };
            
            function removeEntryFromStorage(entryText) {
                let entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
                entries = entries.filter(entry => {
                    const formattedDate = formatDate(entry.date);
                    return !`${formattedDate} - ${entry.text}`.includes(entryText);
                });
                localStorage.setItem('diaryEntries', JSON.stringify(entries));
            }
        });
    </script>
</body>
</html>